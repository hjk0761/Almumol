# Info
[제국](https://boj.kr/16402)

- 난이도: 골드 2
- 분류: 자료 구조, 문자열, 해시를 사용한 집합과 맵, 분리 집합, 파싱

## 💡 풀이 방법 요약

분류에 쓰인 스킬을 모두 사용해서 풀었습니다.

크게 분리 집합(유니온-파인드)입니다.

각 왕국을 해당 왕국과 그 왕국의 종주국(본인이 종주국인 경우 본국)을 가지는 배열을 관리합니다.

이 때 두 왕국 사이의 전쟁은 패자의 종주국을 승자의 종주국의 속국으로 만드는 과정입니다.

주의할 점이 몇 가지 있는데, 먼저 전쟁에서 이긴 왕국은 진 왕국과 그 속국을 모두 속국으로 가진다는 점입니다.

추후 시간복잡도의 감소도 있고, 이 계산에서의 용이성도 있어 find() 호출 시 경로 압축을 같이 구현해두면 좋습니다.

다음으로 속국이 종주국과 전쟁하여 이긴 경우입니다.

앞서 경로 압축을 구현하였다면, 모든 속국이 종주국의 자식 노드로 되어있을 것입니다.

따라서 종주국의 부모 노드로 전쟁에서 이긴 속국을 설정하고, 해당 국가의 종주국을 본국으로 바꿔주어야 합니다.

이를 수행하지 않으면 find() 연산에서 무한루프를 돌게 되니 유의해야합니다.

이렇게 하는 이유는 모든 속국을 순회하며 부모를 바꾸는 작업인 O(n)보다 이긴 속국을 진 본국의 부모로 두는 것이 O(1)로 빠르기 때문입니다.

문자열을 분리하는 작업에 문자열 파싱을 사용했고, 왕국의 이름으로 union-find 를 수행하기 어렵기 때문에 map을 사용하여 이름과 번호를 일대일 대응시킨 뒤에 번호를 통해 union-find 를 수행했습니다.

## 👀 실패 이유

## 🙂 마무리
