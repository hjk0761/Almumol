# Info
[점심 나가서 먹기](https://boj.kr/33906)

- 난이도: 골드 2
- 분류: 그래프 이론, 최단 경로, 데이크스트라

## 💡 풀이 방법 요약

최단 거리 문제입니다.

모든 정점이 연결된다는 보장이 없으므로 모든 식당과 카페에 도착하지 않을 수 있습니다.

따라서 전처리로 순회할 수 있는 식당과 카페 중 가장 싼 곳들을 골라두고, 집(1번 정점)으로부터 찾은 식당과 카페를 들렀다 돌아오는 최단 거리를 구해주었습니다.

최단 거리는 다익스트라 두 번으로 구할 수 있었는데 이유는 다음과 같습니다.

집 -> 식당 -> 카페 -> 집 혹은 집 -> 카페 -> 식당 -> 집 두 경로 모두 같은 길이를 가지게 되는데, 도로가 양방향이기 때문입니다.

단방향 그래프였다면 각 간선에서 다익스트라를 수행해 두 경로중 최단 경로를 구해야 했지만, 문제는 양방향 그래프이므로 집을 기준으로 다익스트라를 수행해 식당, 카페로 가는 최단 거리를 구하고 이후에 식당(혹은 카페)를 기준으로 다익스트라를 한 번 더 수행해 카페(혹은 식당)으로 가는 최단 거리를 더해주면 됩니다.

## 👀 실패 이유

처음에 graph에 (u, v) 와 (v, u) 쌍을 넣어야 했는데 (u, v), (v, v) 쌍을 넣어 틀렸습니다.

이를 고친 후에 시간 초과가 발생했는데, 다익스트라를 수행하는 부분에서 visited 배열을 두고 체크하는 과정에서 지금 큐에서 순회하는 좌표의 길이가 저장된 길이보다 작은 경우만 탐색하도록 해서 통과할 수 있었습니다.

정말 근소한 차이인 것 같지만 이런 부분에서도 불필요한 힙 순회를 없앨 수 있다는 점이 의의가 있는 것 같습니다.

## 🙂 마무리
