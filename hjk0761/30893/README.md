# Info
[트리 게임](https://boj.kr/30893)

- 난이도: 골드 4
- 분류: 그래프 이론, 그래프 탐색, 트리, 깊이 우선 탐색, 게임 이론

## 💡 풀이 방법 요약

그래프 탐색과 게임 이론 입니다.

문제 풀이는 1. s 부터 e 까지의 경로 찾기 2. 해당 경로를 따라 갈 때에 후공 차례에서 다른 경로가 있는지 판별 두 가지로 요약할 수 있습니다.

먼저 s 부터 e 까지 경로 찾기는 dfs 를 이용하면 되는데, dfs를 돌면서 경로를 저장한다면 dfs 코스트가 너무 커집니다.

트리는 어느 두 정점 사이에 경로가 존재하며 유일하다는 점을 이용해야 합니다.

s 를 루트로 잡고 dfs 를 수행하면서, 이동하는 좌표마다 이전 좌표를 기록해줍니다.

이는 곧 해당 노드의 부모 노드를 말해주고, dfs 가 끝난 이후 e 부터 부모 노드를 따라 s 까지 역으로 탐색하면 경로를 알 수 있게 됩니다.

다음으로 게임 이론 부분입니다.

선공은 먼저 말을 움직이고, 해당 말이 e 에 도달하는 것이 목표입니다.

반대로 후공은 나중에 말을 움직이고, 해당 말이 e 에 도달하지 못하게 하는 것이 목표입니다.

최선의 수를 둔다고 가정하였으니 우리가 확인할 건 후공의 차례에서 정점으로 가는 경로 외에 다른 경로가 있는지를 보면 됩니다.

앞서 말한 것 처럼 트리는 어느 두 정점 사이에 경로는 유일하므로 지나온 정점을 못가는 한 다른 경로를 통해 e 로 도달할 수 없기 때문입니다.

## 👀 실패 이유

예전엔 dfs 에 백트래킹을 사용해서 s 부터 e 까지의 경로를 찾아줬는데, recursion depth 가 너무 깊어지게 되었습니다.

## 🙂 마무리
