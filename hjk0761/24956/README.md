# Info
[나는 정말 휘파람을 못 불어](https://boj.kr/24956)

- 난이도: 골드 4
- 분류: 수학, 다이나믹 프로그래밍, 조합론

## 💡 풀이 방법 요약

도저히 누적합 외에 다른 방법을 모르겠어서 풀이를 찾아보게 된 문제입니다.

'WHEE' 라는 글자를 만드는 것에 집중하면 단 한번의 순회로 정말 단순하게 풀 수 있던 문제입니다.

DP 테이블 대신 변수를 4개 기록합니다.

w, wh, whe, whee 각 변수는 w의 갯수, wh의 갯수, whe의 갯수, 유사 휘파람 문자열의 갯수입니다.

문자열을 순회하면서 'W'인 경우엔 w += 1 을 수행해 줍니다. 당연하죠.

'H' 인 경우엔 wh += w 를 수행합니다. H 가 하나 증가했으니까 이전까지 있던 W 의 수만큼 WH 를 더 만들 수 있기 때문입니다.

'E' 인 경우가 신기한데, 먼저 whee *= 2 를 수행합니다. E 가 증가하면서 기존에 존재하던 유사 휘파람 문자열의 갯수만큼 새로 만들 수 있기 때문입니다.

이후에 whee += whe 를 수행하는데, 앞서 존재하던 whe 의 갯수만큼 유사 휘파람 문자열을 새로 만들 수 있기 때문입니다.

마지막으로 whe += wh 를 수행합니다.

이를 반복한 후, 마지막에 whee 를 출력하면 정답이 나오는 신기한 문제였습니다.

## 👀 실패 이유

처음엔 누적합으로 단순하게 H 이전의 W 의 갯수와 H 이후의 E 의 갯수를 알면 구할 수 있을거라 생각했습니다.

E 의 갯수를 구할 때에 WHEE 의 경우, WHEEE 의 경우 등으로 나눠서 생각하니 E 의 갯수만큼 반복해줘야 했어서 시간 초과를 마주했습니다.

다음엔 일반화된 식을 찾아 계산해봤는데 (`w[i] * (2^e[i] - e[i] - 1)`) 이것도 제곱을 계산할 때에 e[i] 의 크기가 너무 커지면 시간 초과가 발생했습니다.

pypy 로 제출하면 통과는 했는데 다른 풀이가 있을거라고 생각해서 찾게 된게 위의 풀이입니다.

## 🙂 마무리

정말 충격인 문제였습니다...

여러모로 알고리즘 풀이에 매너리즘이 오고 있었는데 문제 풀이를 다양하게 떠올리지 못하는 것도 그렇고 쉽지 않네요

DP 인 걸 알고 풀었음에도 누적합 말곤 다른 방법을 떠올리지 못하는게 너무 편한 문제들만 풀어서 그런가 싶기도 하고, 생각이 많아지네요
