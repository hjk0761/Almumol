# Info
[수조](https://boj.kr/2130)

- 난이도: 골드 1
- 분류: 이분 탐색, 누적 합, 스위핑

## 💡 풀이 방법 요약

누적 합 문제입니다.

물은 가장 아래있는 수조의 바닥부터 차오르기 시작하며, 모든 수조가 파이프로 연결되어 있기 때문에 같은 높이에 있는 수조는 물이 동시에 차오르게 됩니다.

즉, 현재 높이에 존재하는 수조의 넓이 합이 물 높이를 결정하게 됩니다.

이를 위해 밑넓이를 기준으로 누적합을 구해주는데, 높이 + 수조의 높이가 최대 1,040,000 이기 때문에 dictionary 를 썼습니다(나중에 알았는데 배열도 가능합니다).

누적합을 구하는 스킬로 imos 를 사용했습니다. 알고 쓴건 아닌데, 누적합을 구할 때에 수조의 시작 높이에서 밑넓이만큼 더해주고 수조가 끝나는 높이에서 밑넓이만큼 빼준 값을 누적합해주면 각 높이에서의 밑넓이를 쉽게 구할 수 있습니다.

이렇게 각 높이에 따른 밑넓이를 구했으면 물이 차오르는 높이를 구할 수 있습니다.

먼저 수조 부피 누적합을 통해 물이 어느 밑넓이 구간에 존재하는지를 확인하고, 그 구간에서 물이 차오르는 높이(`(물의 부피 - 이전 수조까지의 부피 누적합) / 현재 구간의 밑넓이 `)를 계산하면 됩니다.

여기서 밑넓이 구간을 구하기 위해 이분 탐색을 사용했습니다.

이전에 dict에 밑넓이를 저장할 때에 높이를 key 로, 그 높이에서의 밑넓이를 value 로 정했기 떄문에 이분 탐색으로 key를 구해주었습니다.

## 👀 실패 이유

정말 많이 실패했습니다,,.,.,.,.,.,.

20전 19패 1승입니다.

원인은 다양했습니다.

처음엔 물 높이를 구할 때에 인덱스를 잘못 참조해 0으로 나누는 상황이 생겼고,

파이썬의 고질적인 문제인 오사오입(반올림할 자릿수가 5인 경우 그 앞자리가 짝수인 경우 버림, 홀수인 경우 올림)이여서 생기는 오차도 있었습니다.

근데 문제 채점 시스템이 잘 된다는 가정하에 문제에서 절대 오차는 10^-2까지 허용한다고 했기 떄문에 아마 이게 문제가 되진 않을 것 같습니다.

이후엔 수조 사이에 빈 공간이 있고 이전 높이의 수조가 꽉 찬 경우 이전 수조의 끝 높이가 아니라 다음 수조의 시작 높이를 반환해서 틀렸었습니다.

## 🙂 마무리

샤라웃 투 프로페서 폭포

그리고 아직 스위핑이 뭔지 모르겠습니다.

앞에서부터 쭉 본다는 의미인 것 같은데 맞나요?