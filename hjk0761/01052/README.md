# Info
[물병](https://boj.kr/1052)

- 난이도: 골드 5
- 분류: 수학, 그리디 알고리즘, 비트마스킹

## 💡 풀이 방법 요약

물병은 모두 1리터씩 들어있고, 상점에서 살 수 있는 물병도 1리터가 들어있으며, 물병을 합칠 때엔 같은 양의 물이 들어있는 경우만 가능합니다.

즉, 물병은 합치면서 용량이 2배로 늘어나게 되고 물병의 용량은 곧 이진수로 나타낼 수 있음을 알 수 있습니다.

다시 말해 물병 하나는 이진수의 자릿수 하나를 의미합니다(합쳐지기 전 물병의 갯수는 2^0의 갯수, 한 번 합쳐진 물병의 갯수는 2^1의 갯수...).

그럼 문제가 요구하는 상점에서 사야할 최소 물병 갯수는 뭘 의미할까요?

합쳐진 물병이 이진수에서 자릿수를 의미하는 것에서 착안해 물병 수를 k개 이하로 줄인다는 것은 우리가 가진 물의 합 이진수로 변환했을 떄에 1의 갯수가 k개 이하가 된다는 걸 의미합니다.

그렇다면 상점에서 사야할 물병의 최소 갯수는 n을 1이 k개 이하인 이진수로 만들기 위해 더해야 할 최소값을 의미하겠습니다.

이 값을 그냥 구하게 되면 10^7이라는 제한이 있어 쉽지 않습니다.

따라서 n을 이진수로 나타내고, 각 자릿수를 배열에 담아(비트마스킹) 이후 계산에서 일일이 구하지 않도록 했습니다.

## 👀 실패 이유

10^7 까지를 10,000,000 이 아니라 1,000,000 으로 이해해서 범위를 잘못 잡았습니다...ㅎㅎ

## 🙂 마무리

이 문제를 풀면서 재미있는 걸 알게되었는데,

n & (n-1) 연산은 n을 이진수로 나타냈을 때에 가장 작은 1을 없애줍니다.

처음엔 이 사실을 이용해서 n에서 1의 갯수를 구했는데, 나중엔 안쓰게 바꾸게 되어 기록으로 남겨둡니다.
