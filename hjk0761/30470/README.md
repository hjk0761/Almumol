# Info
[호반우가 학교에 지각한 이유 3](https://boj.kr/30470)

- 난이도: 골드 5
- 분류: 구현, 자료 구조, 시뮬레이션, 스택

## 💡 풀이 방법 요약

스택을 사용하여 풀었습니다.

1번 쿼리로 입력되는 통나무의 길이는 항상 이전 1번 쿼리에서 입력된 통나무보다 크다는 조건이 있습니다.

그래서 1번 쿼리는 그냥 스택에 계속 붙여 넣어주면 됩니다.

2번 쿼리 처리가 조금 다른데, 재설정해야 하는 높이보다 큰 나무를 모두 찾아서 재설정을 해주면

n 이 500,000 인데 최대 O(n^2) 를 수행하게 되어 1초라는 시간제한에 걸릴 수 있습니다.

따라서 2번 쿼리가 실행될 때 스택의 마지막 통나무만 높이를 바꿔주고, 모든 쿼리를 수행한 후 스택에서 팝하면서 역순으로 탐색을 다시 합니다.

이 때 이전 통나무보다 길면 이전 통나무의 길이를, 작으면 지금 통나무의 길이를 더해주면 됩니다.

## 👀 실패 이유

처음엔 스택이 빈 경우도 2번 쿼리를 처리하느라 인덱스 에러가 발생했고,

다음엔 단순하게 2번 쿼리가 실행될 때 스택에서 재설정하는 높이보다 큰 통나무를 모두 팝하고 다시 푸시해서 시간 초과가 발생했습니다.

## 🙂 마무리
